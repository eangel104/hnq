<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
<title>한화 Home &amp; Q</title>
<link rel="stylesheet" type="text/css" href="../css/common.css">
<link rel="stylesheet" type="text/css" href="../css/content.css">
</head>
<body>

<!-- wrap -->
<div class="wrap">

	<!-- header -->
	<div class="header">
		<!-- <h1 class="page_title">시공완료 승인요청</h1>
		<a href="#" class="page_prev">이전페이지</a> -->
	</div>

	<!-- //header -->

	<!-- content -->
	<div class="content">
		<div class="content_area">
			<!-- 본문내용 -->
			<div class="section">
				<dl class="price_info">
					<dt>
						<span class="left_txt">기본시공비</span>
						<span class="right_txt">400,000</span>
					</dt>
					<dd>
						<span class="left_txt">BA2018051112354</span>
						<span class="right_txt">200,000</span>
					</dd>
					<dd>
						<span class="left_txt">BA2018051112354</span>
						<span class="right_txt">100,000</span>
					</dd>
					<dd>
						<span class="left_txt">BA2018051112354</span>
						<span class="right_txt">100,000</span>
					</dd>
				</dl>
				<h3 class="tit_type01">추가시공비</h3>
				<!-- TODO : 20181025 수정 -->
				<ul class="price_list">
					<li class="del">
						<div class="txt_area">
						    <span>추가시공비 항목</span>
				            <a class="btn_del" href="#">삭제</a>
				        </div>
						<div class="price_area">
							<div class="p_m fr">
								<a class="minus" href="#">빼기</a>
                                <input type="text" value="0" min="0" step="0.01">
								<a class="plus" href="#">더하기</a>
							</div>
						</div>
					</li>
				</ul>
				<div class="gray_box dark mt10">
					<span class="left_txt">총 금액</span>
					<span class="right_txt">758,000 원</span>
				</div>
				<p class="tar fs12 mt5">*VAT 포함</p>
				
				<textarea class="mt20 mb0" rows="3" cols="30">시공완료 승인요청 비고</textarea>
			</div>
			
			<hr>
			
			<div class="section">
				<h3 class="tit_type01 mt0">시공 승인</h3>
				<ul class="basic_list">
					<li>청소 상태 양호</li>
				</ul>
				
				<h3 class="tit_type01">시공 반려</h3>
				<ul class="basic_list">
					<li>추가시공비 오입력</li>
					<li>추가 시공비 재 입력 요청</li>
				</ul>
			</div>
			<!-- 본문내용 -->
		</div>
		<div class="btn_fix">
			<a id="cancel" href="#" class="btn gray">취소</a>
			<a id="save" href="#" class="btn green">승인요청</a>
		</div>
	</div>
	<!-- //content -->

</div>
<!-- //wrap -->
<script type="text/javascript" src="../js/mcore.min.js"></script>
<script type="text/javascript" src="../js/header.js"></script>
<script type="text/javascript" src="../js/module.js"></script>
<!-- // -->
<script type="text/javascript">
    "use strict";
    //TODO: 개발 미비

    //페이지 이동시 전달할 데이터
    var pageData = {}

    //이전페이지 에서 받은 데이터 
    // var data = M.data.param();
    
    $(document).ready(function(){
        $(".header").header({
            type:"construction",
            title:"시공완료 승인요청",
            callback:function(){
                pageNav(pageData);
            }
        });


        $("#cancel").off("click").on("click",function(e){});
        $("#save").off("click").on("click",function(e){});


        //숫자 컨트롤 모듈 나중에 모듈화 
        var $num = $(".price_area input[type='text']");
        var minNum = 0;
        var maxNum = 5;
        var step = 0.1;

        function min(num,min){
            if(num <= min) return min;
            return num;
        }

        function max(num,max){
            if(num >= max) return max;
            return num;
        }

        $(".price_area .minus").off("click").on("click",function(e){
            console.log("minus");
            $num.val(min(parseFloat(parseFloat($($num).val()) - step).toFixed(2),minNum));
        });

        $(".price_area .plus").off("click").on("click",function(e){
            console.log("plus");
            $num.val(max(parseFloat(parseFloat($($num).val()) + step).toFixed(2),maxNum));
        });

        $($num).off("change").on("change",function(e){
            console.log("change");
            $num.val(max(min(parseFloat($($num).val()).toFixed(2),minNum),maxNum));
        });
    });

    M.onReady(function(e) {
        //ready event handle code here
        console.log("onReady");
    }).onHide(function(e){
        //hide event handle code here
        console.log("onHide");
    }).onRestore(function(e) {
        //restore event handle code here
        console.log("onRestore");
    }).onResume(function(e) {
        //resume event handle code here
        console.log("onResume");
    }).onDestroy(function(e) {
        //destroy event handle code here
        console.log("onDestroy");
    }).onBack(function() {
        //back event handle code here
        console.log("onBack");
        M.page.back();
    }).onKey(function(e) {
        //key event handle code here(android only)
        console.log("onKey");
    });
</script>
<script type="text/javascript" src="../js/common.js"></script>
</body>
</html>
