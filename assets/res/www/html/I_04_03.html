<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
<title>한화 Home &amp; Q</title>
<link rel="stylesheet" type="text/css" href="../css/common.css">
<link rel="stylesheet" type="text/css" href="../css/content.css">
</head>
<body>

<!-- wrap -->
<div class="wrap">

	<!-- header -->
	<div class="header">
		<!-- <h1 class="page_title">시공</h1>
		<a href="#n" class="btn_home">home</a>
		<a href="#n" class="btn_gnb">전체메뉴</a>
		<div class="gnb">
			<ul>
				<li class="green"><a href="#n">실측관리</a></li>
				<li class="green"><a href="#n">시공관리</a></li>
				<li class="setting"><a href="#n"><span>설정</span></a></li>
			</ul>
		</div>
		<a href="#n" class="page_prev">이전페이지</a> -->
	</div>

	<!-- //header -->

	<!-- content -->
	<div class="content">
		
		<div class="content_area">

			<!-- 본문내용 -->			
			<div class="section">
				<div class="list_num">
					<span><em>12</em>건 / 총 <em>12</em>건</span>
				</div>
				<!-- TODO : 20181025 li a영역 수정 -->
				<ul id="list" class="survey_list mt10">
					<li>
                        <div class="division type02">
                            <span class="left_txt"><span class="split_w">시공이슈</span></span>
                            <!-- <span class="rignt_txt">주문접수</span> -->
                        </div>
				        <div class="top">
                            <span class="date">2018-08-31</span>
                            <span class="order_num">0000000000</span>
                        </div>
                        <div class="mid">
                            <span class="num">[TI20160523000000] 비거주(개보수)</span>
                            <span class="addr">서울 중구 을지로5길 26 센터원 좋은아파트 11동 1004호</span>
                            <a href="#" class="go_list" data-event-page="I_04_04.html"></a>
                        </div>
					</li>
				</ul>
				<!--// TODO : 20181025 li a영역 수정 -->
				<div class="tac mt20">
					<a id="listAdd" href="#n" class="btn large basic"><span class="add">더보기</span></a>
				</div>
				
			</div>
			<!-- 본문내용 -->

		</div>

	</div>
	<!-- //content -->

</div>
<!-- //wrap -->
<script type="text/javascript" src="../js/mcore.min.js"></script>
<script type="text/javascript" src="../js/header.js"></script>
<script type="text/javascript" src="../js/moment.min.js"></script>
<script type="text/javascript" src="../js/locales.min.js"></script>
<script type="text/javascript" src="../js/module.js"></script>
<!-- // -->
<script type="text/javascript">
    "use strict";
    //TODO: 개발 미비
    /*기능 구현 리스트
    1. 검색 기능 
    2. 검색 결과 리스트 뿌리는 기능 
    3. 더보기 기능
    4. 페이지 이동 기능 
    */

    //페이지 이동시 전달할 데이터
    var pageData = {}

    //이전페이지 에서 받은 데이터 
    // var data = M.data.param();
    
    $(document).ready(function(){
        $(".header").header({
            type:"construction",
            title:"현장이슈",
            headerType:"menu",
            callback:function(){
                pageNav(pageData);
            }
        });

        //검색 박스 함수
        function searchBox(){
            //검색 값 초기화
            function init(){
                $("#companyName").val("");
                $("#addr").val("");
                $("#orderNum").val("");
                $("[data-mdate]").val("");
            }

            init();

            //검색 이벤트 처리
            //검색 이벤트
            $("#search").off("click").on("click", function(){});
            //초기화 이벤트
            $("#initSearch").off("click").on("click", init);

            //날짜 데이터 피커 공통 모듈
            $("[data-mdate]").mDate();
        }

        //검색 결과 리스트로 생성하는 함수
        function listMake(param){
            param = [{
                type: "현장이슈",
                date:"2018-08-31",
                orderNum:"000000000",
                num:"[TI20160523000000] 비거주(개보수)",
                addr:"서울 중구 을지로5길 26 센터원 좋은아파트 11동 1004호",
                company:"서울 창호 시스템",
                charge:"김프로(01012344321)",
            }];

            //태그 생성 
            //TODO : 미구현 목록 
            /*
            주문 접수 상태 일때 
            1. start_txt 클래스 에 on 클래스 추가
            2. progress_wrap 및에 진행 상태에 따라 적용 
            신규 주문 상태 일때 
            1. stu_txt 태그 삭제 
            */
            function makeTag(data){
                return $('<li>\
                    <div class="division type02">\
                        <span class="left_txt"><span class="split_w">'+data.type+'</span></span>\
                    </div>\
                    <div class="top">\
                        <span class="date">'+data.date+'</span>\
                        <span class="order_num">'+data.orderNum+'</span>\
                    </div>\
                    <div class="mid">\
                        <span class="num">'+data.num+'</span>\
                        <span class="addr">'+data.addr+'</span>\
                        <a href="#" class="go_list" data-event-page="I_04_04.html"></a>\
                    </div>\
                </li>');
            };
            
            //태그 랜더링 
            $(param).each(function(index,el){
                console.log(el);
                $("#list").append(makeTag(el));
            })
        }
        // 더보기 버튼 클릭시 액션
        $("#listAdd").off("click").on("click",function(){

        })

        searchBox();
        listMake();
        //재 랜더링 이후에 이벤트 다시 걸음
        pageNav(pageData);
    });

    // 통신
    M.onReady(function(e) {
        //ready event handle code here
        console.log("onReady");
    }).onHide(function(e){
        //hide event handle code here
        console.log("onHide");
    }).onRestore(function(e) {
        //restore event handle code here
        console.log("onRestore");
    }).onResume(function(e) {
        //resume event handle code here
        console.log("onResume");
    }).onDestroy(function(e) {
        //destroy event handle code here
        console.log("onDestroy");
    }).onBack(function() {
        //back event handle code here
        console.log("onBack");
        M.page.back();
    }).onKey(function(e) {
        //key event handle code here(android only)
        console.log("onKey");
    });
</script>
<script type="text/javascript" src="../js/common.js"></script>
</body>
</html>
